(name 'OSProcess-Base-dtl.51' message 'OSProcess 4.6.4Update for Pharo 5. Remove TimeStamp reference.' id '7cb1d42d-eb25-4137-93ad-adc6067fa5b9' date '17 June 2015' time '9:44:10.388 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.50' message 'OSProcess 4.6.3Update UixOSProcessAccessor>>grimReaperProcess to reduce chances of lost SIGCHLD, by timiing out on semaphore waits.Update ThisOSProcess>>activeChildren in hopes of reducing possible race conditions associated with setting process status and scanning for exited processes.Add #flush in unit tests because some C runtimes require it.' id 'c1a21d13-6dc5-4d22-9186-2a61b25dcfc2' date '7 June 2015' time '6:01:27.692 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.49' message 'OSProcess 4.6.2Implement newPid to clean the allMyChildren registry after a fork, stopping the child watcher first, and restarting it for the emptied registry.Do not call updateAllMyChildren in resetChildProcessDictionary, because this may be a child of another Squeak, in which case the dictionary should be emptied without effect on the registered children of the parent Squeak.Move grimReaper up to OSProcessAccessor.Remove hasTestEof:' id 'e88540c5-6625-4b03-af53-3c5967272338' date '9 March 2015' time '8:12:44.899 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.48' message 'OSProcess 4.5.16The allMyChildren registry is convenient for browsing, but should not be allowed to accumulate exited children without limit. Change it from a dictionary to an ordered collection, retaining #allMyChildren as a method that answers a dictionary of process proxies by pid. Internally keep a list of recent children, and prune the list to a reasonable size each time a new child process is registered.' id '926ead6c-6202-479b-aec3-d4cecbc2361d' date '6 February 2015' time '9:02:22.397 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.47' message 'OSProcess 4.5.14Fix child process unregister, and use it for discardExitedChildren and resetChildProcessDictionary to avoid creating a new child process dictionary unnecessarily.Thanks Herbert K??nig' id 'bae7ec2b-eb59-46d6-8ea6-0ef04cc48055' date '3 February 2015' time '6:45:48.272 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.46' message 'OSProcess 4.5.13On Windows, do not attempt to write to stderr if it is nil, as will be the case if the Windows file handle registry has been compiled into the FilePlugin. That handle registry explicitly prevents attaching to stdio streams. A possible workaround would be to provide an alternative FilePlugin dll (external) with the handle registry disabled.' id '475caf93-ab48-4489-8d05-67989487ecf8' date '11 January 2015' time '1:57:41.34 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.45' message 'OSProcess 4.5.12Make safeToForkSqueak do the right thing when the image is headless and no XDisplayControlPlugin is present.Fix provided by Max Leske.' id '89916686-8c04-451b-9271-1900be1b4b56' date '18 August 2014' time '9:24:50.901 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.44' message 'OSProcess 4.5.11In blocking pipe tests, add explicit flush to protect against defective C runtime libraries.' id 'feef89a0-3ff1-4da0-99af-04d94cd74d87' date '18 August 2014' time '9:13:09.653 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.43' message 'OSProcess 4.5.10Fix OSProcess class>>platformName for images that do it right, such as Cuis.This may break support for some older versions of Pharo.Revert prior change to OSProcess class>>isUnix, which is not required when platformName works correctly.' id '60ed62de-0a6a-4df8-acdf-502e3f31e7f4' date '5 January 2014' time '11:44:10.273 am' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.42' message 'OSProcess 4.5.11, CommandShell 4.6.8Fixes by Sean DeNigris for win32 support in PipeableOSProcess (CommandShell package)Date: Fri, 27 Dec 2013 10:09:37 -0800 (PST)From: "Sean P. DeNigris" <sean@clipperadams.com>To: squeak-dev@lists.squeakfoundation.orgSubject: [squeak-dev] Fix: OSProcess on Windows I made a small fix for MNU #defaultShellPath, which has been reported a few times. I didn''t have repo write access, so I committed tohttp://smalltalkhub.com/#!/~SeanDeNigris/SeansOutbox . Sometimes on Windows (e.g. seemingly when there are quoted command line arguments), the argument to #waitForCommand: and command: must be wrapped in $". I don''t think there is any harm in always doing this (on Windows), but wanted to get feedback from Dave first... OSProcess-Win32-SeanDeNigris.11- Supply shell flags valid for Windows (i.e. ''/c''); shell commands viaPipeableOSProcess are now working, with two restrictions:        - no access to stdout        - argument to #waitXyz: may have to be surroundedByDoubleQuotes OSProcess-Base-SeanDeNigris.41- Extract default shell flags (''-c'') into a method, so that Windows may supply flags valid there (i.e. ''/c'') CommandShell-Piping-SeanDeNigris.15- Fix Win32 shell by providing path to cmd.exe' id '93e09598-26f4-4783-8b37-7888a1b8bb76' date '29 December 2013' time '1:45:46.619 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.41' message 'OSProcess 4.5.10Updates for Cuis supportFix OSProcess class>>isUnix, recognize ''linux'' and ''linux-gnu''.Cuis opens dialog from snapshot:andQuit: so call snapshot:andQuit:embedded: to bypass the dialog.Do not send unnecessary #release' id 'e73763ea-7dc9-40b8-bfdf-657926a1c431' date '15 December 2013' time '10:16:52.544 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.40' message 'OSProcess 4.5.9Fix #= in ThisOSProcess, ExternalUnixOSProcess, and ExternalWindowsOSProcess. Thanks to Marcel Taeumel for the fix.' id '3d0b04e4-04d1-4086-842d-1651a3dc90f1' date '15 November 2013' time '10:43:18.693 am' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.39' message 'OSProcess 4.5.8Fix bit rot in OSProcess class>>allTestResults.Includes OSProcess-Base-ThierryGoubier.38Issue: Utilities is undeclared in Pharo3.0, and has no authorInitials methods in Pharo2.0' id '57346cf4-20e0-4a3e-aa2d-df65a900f8b5' date '13 October 2013' time '11:22:48.282 am' author 'dtl' ancestors ((name 'OSProcess-Base-ThierryGoubier.38' message 'Issue: Utilities is undeclared in Pharo3.0, and has no authorInitials methods in Pharo2.0' id 'f9e1a24d-2580-4967-870d-e8fe1638522e' date '11 October 2013' time '11:17:17.518364 am' author 'ThierryGoubier' ancestors ((name 'OSProcess-Base-dtl.37' message 'Tweak #deleteFileNamed: for possibly better backward compatibility with earlier Pharo versions.' id '36110266-2af7-4324-a124-0ac399a6f473' date '5 September 2013' time '9:23:30.052 pm' author 'dtl' ancestors ((name 'OSProcess-Base-ThierryGoubier.36' message 'With FileSystem, use #ensureDelete .if available, otherwise #ensureDeleted (in Pharo2, deprecated in Pharo3)' id '266be1b6-fb2c-43c2-bd24-5f871dd30038' date '5 September 2013' time '3:26:26.353 pm' author 'ThierryGoubier' ancestors ((name 'OSProcess-Base-ThierryGoubier.35' message 'Corrected #os/#vm perform' id 'c85ad096-1ba8-4533-8d70-0033da25d0d4' date '5 September 2013' time '11:14:15.947412 am' author 'ThierryGoubier' ancestors ((name 'OSProcess-Base-ThierryGoubier.34' message 'Merged dtl.33.Is the use of #delete right?' id '6a345812-9730-49a6-bb8a-7fb157f21e0d' date '5 September 2013' time '11:08:04.755417 am' author 'ThierryGoubier' ancestors ((name 'OSProcess-Base-ThierryGoubier.28' message 'Updating for Pharo3' id 'fdbd2ae5-0736-4914-9c28-05f1e41f01b3' date '4 September 2013' time '2:17:43.570401 pm' author 'ThierryGoubier' ancestors ((name 'OSProcess-Base-dtl.27' message 'OSProcess 4.5.1Update version dependent methods in OSProcess to match those in CommandShell, with support for Pharo 2.0.' id '1fa5b8f0-fbde-4147-a57f-a2fbf7193b5b' date '27 January 2013' time '10:10:26.641 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.26' message 'Remove FileDirectory references from some method comments (no functional changes to OSProcess)' id '50974cd0-4ced-4dfa-8d37-1300ad319ba7' date '25 January 2013' time '7:42:14.65 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.25' message 'OSProcess 4.4.14Remove FileDirectory references that were unresolved in Pharo (missed in last update)' id '08ed0da2-7408-41e2-a5d7-3dc5c6134f80' date '24 January 2013' time '8:06:06.579 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.24' message 'OSProcess 4.4.13Squeak/Pharo compatibility: Use FileReference if available, otherwise use traditional FileDirectory.' id '2b09c1d0-f0f5-4322-9ce2-74fd5093e32f' date '23 January 2013' time '10:01:05.724 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.23' message 'OSProcess 4.4.12Do not permit a BufferedAsyncFileReadStream to consume memory indefinitely. Fix spelling errors in comments.' id '4325d75e-9a49-4fdb-a1cb-f10e8a6f749d' date '7 December 2012' time '8:15:44.196 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.22' message 'OSProcess 4.4.11Add AioEventHandler class>>initializeAioPluginPresent to prevent a warning dialog after image startup if the AioPlugin is not present.' id 'b8ccfaa1-65ea-4195-8635-1d56717fb2f2' date '3 October 2012' time '8:26:25.618 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.21' message 'OSProcess 4.4.10Better exit status decoding for unix processes. The system call wait() answers an integer value, and the C runtime library has macros to decode its bitmap value. A unix shell relies of the decoded value, either a normal exit status or a signal number of signal causing exit.Add class UnixProcessExitStatus to decode unix process exit status in a manner similar to that of a unix shell for GNU unix systems, and use this for ExternalUnixOSProcess>>printOn:. This may not be portable across unix systems but is nevertheless used to provide a better printString description of process exit status for external unix processes.' id '671b9fad-a187-440b-bad6-7ad48f843e3c' date '23 August 2012' time '11:15:07.276 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.20' message 'OSProcess 4.4.9Add environment accessors for WindowsProcess (thanks Damian Cassou)' id '4ab23889-24a0-4214-b253-e05d23c8f360' date '3 May 2012' time '9:33:37.681 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.19' message 'OSProcess 4.4.8Fix file handle leak in OSPipeTestCase>>testIsAtEndOfFile' id '25104755-b61f-4468-a668-6b716f60fcc4' date '24 April 2012' time '8:33:38.5 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.18' message 'OSProcess 4.4.7Fix improper usage of assert: in UnixProcessAccessorTestCase>>testDupTo' id '4d9b634e-5289-4d74-81cf-07c4f2116495' date '22 April 2012' time '4:53:06.99 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.17' message 'OSProcess 4.4.6Ensure that AioEventHandler event process has been started before completing initialization, to ensure that event notification has been initialized before use.' id '36abbe02-4769-4d7d-8bda-aaaf6247a31a' date '13 November 2011' time '1:13:47.206 am' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.16' message 'OSProcess 4.4.5Remove bad changes to isStdIn, isStdOut and isStdErr from last update (4.4.4). These were unnecessary and caused image hang on startup when running on Windows. Thanks to Radoslav Hodnicak for finding and reporting the problem.For completeness, add UnixOSProcessAccessor>>primDup: hook for primitiveDup as complement to existing primDup:to:' id '1c72e4d7-dda5-4550-adcd-bd523d8b2c14' date '27 September 2011' time '8:57:32.644 am' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.15' message 'OSProcess 4.4.4Fix #isStdIn: #isStdOut: and #isStdErr: which should compare only the session ID an file handle portion of the fileID.' id '1422c8d6-81e7-4094-b7ac-cf605d0def62' date '10 September 2011' time '3:44:00.612 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.14' message 'OSProcess 4.4.3Fix forkHeadlessSqueak to fail cleanly on OS X to prevent unit test hang.Update unit tests to work around OS X differences in directory naming and file protections.Catch warnings in unit tests to permit them to run on OS X without UI interaction. Many test failures are expected on OS X due to lack of forkSqueak and XDisplayControlPlugin capability on that platform.' id '52cb85a1-ba16-4400-b919-6cf09fd2e73d' date '10 June 2011' time '4:20:00.631 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.13' message 'OSProcess 4.4.2Do not use #addToStartUpList:after: which was just a workaround for an ancient Squeak bug.' id 'c1f1f421-c9e3-4611-a6c4-0e4cfbf95817' date '20 May 2011' time '7:25:14.861 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.12' message 'OSProcess 4.4.1Improve error handling for #forkSqueak in cases where XDCP is not present or if the VM (Cog) cannot properly support the primitive call.' id '8c762dbd-34a2-4bce-ac9f-c03c8db1efc8' date '27 April 2011' time '9:35:15.109 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.11' message 'OSProcess 4.4.0Eliminate deprecated methods and calls to deprecated primitives in old versions of OSPP.Accommodate Pharo refactorings and deprecation warnings.' id 'd2360413-0dcc-44b8-a6cf-ed2e26e04226' date '29 November 2010' time '8:20:30.607 am' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.10' message 'OSProcess 4.3.17Check for presence of XDisplayControlPlugin in forkSqueak. If X11 control is not present, the child VM cannot disconnect from the X server, which can result in a VM crash for the parent.' id 'c060a25b-72e6-49c0-ba2b-b2277ead5694' date '21 November 2010' time '12:12:45.288 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.9' message 'OSProcess 4.3.16Updates from Ross Boylan for Cuis support (thanks!)Use #newProcess and #resume rather than #fork when the identity of the new process is answered. The #fork method in Cuis does not answer the process (to guard against concurrency bugs).Fix OSProcessAccessor class>>forThisOSProcess to guard against nil ThisOSProcess.Do not use #ifNotNilDo: (for Cuis compatibility) and do not use #ifNotNil: with a block parameter (for Squeak 3.6 compatibility).' id '2dec763a-f2c6-41f2-86cc-611718991ede' date '3 September 2010' time '7:37:08.801 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.8' message 'OSProcess 4.3.15Fix bugs in UnixOSProcessAccessor>>grimReaperProcess and WindowsProcess>>initialize identified by Ramon Leon (thanks!)' id '23439747-8349-4796-9c24-0c25cea70bec' date '26 August 2010' time '8:14:32.161 am' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.7' message 'OSProcess 4.3.14Fix out of sequence versionString label. Version 4.3.14 is functionally identical to 4.3.12.' id '5608bf67-38f4-4346-9a4c-368e44bd2995' date '18 August 2010' time '8:41:56.824 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.6' message 'OSProcess 4.3.12Protect access to child process collection with a semaphore. Better startUp: processing, and various associated cleanups and comment fixes.' id '133c2628-f329-4557-8d7a-f9e78f177fff' date '15 August 2010' time '3:34:31.545 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.5' message 'OSProcess 4.3.13Implement debugging stack dump methods:  UnixOSProcessAccessor>>setPrintAllStacksOnSigUsr1  UnixOSProcessAccessor>>clearPrintAllStacksOnSigUsr1  UnixOSProcessAccessor>>primPrintAllStacksOnSignal:Underlying primitive support is in OSProcessPlugin 4.3.4' id 'e575e9f0-380a-4d22-ae0b-b44e90206f95' date '20 July 2010' time '12:35:46.098 am' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.4' message 'Move OSProcess package overrides into OSProcess-Base' id '95ab5be4-0db6-4003-86b8-32d46b757a25' date '28 June 2010' time '11:29:06.683 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.3' message 'Revert last change to ThisOSProcess class>>thisOSProcess' id '12b2fffe-1694-4e89-8d72-2130ef0c1373' date '28 June 2010' time '10:54:09.651 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.2' message 'OSProcess 4.3.12Implement #= and #hash for process proxies, as the may be compared when added to a dependentsArray.Rearrange some methods to facilitate loading OSProcess-Base.' id '56ebec1b-b0f9-4040-955c-a427785a9b97' date '28 June 2010' time '10:35:17.116 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.1' message 'Recategorize package OSProcess into subpackages as follows: OSProcess-Base OSProcess-Mac OSProcess-OS2 OSProcess-RiscOS OSProcess-Win32 OSProcess-AIO OSProcess-Tests' id '11943424-47f3-4e97-8049-c754f599e5b2' date '27 June 2010' time '12:34:23.218 pm' author 'dtl' ancestors () stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())(name 'OSProcess-Base-dtl.33' message 'OSProcess 4.5.7Update OSProcess class>>platformName and OSProcess class>>platformSubtype for Pharo 3 (thanks Goubier Thierry for the update)' id '10a45b9b-3e10-4c56-bddd-a87a222b8fe5' date '4 September 2013' time '10:04:20.942 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.32' message 'OSProcess 4.5.6Add OSProcessAccessor support for new primitives for creating temporary files and directories	UnixOSProcessAccessor>>mktemp: templateString	UnixOSProcessAccessor>>mksemp: templateString	UnixOSProcessAccessor>>mkdtemp: templateString' id 'b6f3f2d2-b624-4c76-8ece-17a7a99771d8' date '3 June 2013' time '11:20:07.993 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.31' message 'OSProcess 4.5.5Add check in ThisOSProcess class>>shutDown: to protect for nil process accessor if platform packages have not been loaded.' id '1b7bd3e5-f066-4271-97a2-ed728f80b813' date '8 March 2013' time '6:46:58.655 pm' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.30' message 'OSProcess 4.5.4Revert semaphore timeout change in AioEventHandler because it leads to intermittent failures in unit tests, including possible image lockup.' id '30d19df2-9efe-4e7b-92a1-0df3924fc4ed' date '24 February 2013' time '11:44:19.159 am' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.29' message 'OSProcess 4.5.3Protect AioEventHandler against possible missed aio notifications by providing a semaphore timeout to periodically wake up the handler process.Use WriteStream on: String new because literal strings should be immutable.Merge OSProcess-Base-SeanDeNigris.28Author: SeanDeNigris- Enhance file delete logic to handle FS version in Pharo 1.4, in addition to that in Pharo 2.0' id 'c7f9e494-6fb7-487e-82f5-06110072359d' date '24 February 2013' time '10:57:05.169 am' author 'dtl' ancestors ((name 'OSProcess-Base-dtl.28' message 'OSProcess 4.5.2Use #notify: rather than #inform: in AioEventHandler>>aioPluginPresent to permit the one-time notification to be caught and ignored.' id '04f3e206-1f2e-46f3-abd8-8b4f9513dcfc' date '11 February 2013' time '7:28:37.114 pm' author 'dtl' ancestors ((id '1fa5b8f0-fbde-4147-a57f-a2fbf7193b5b')) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())