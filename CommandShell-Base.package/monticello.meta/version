(name 'CommandShell-Base-dtl.44' message 'CommandShell 4.6.15By Thierry Goubier: Reimplement CrLfFileEditor as subclass of Model to remove StringHolder reference.Use CrLfFileStream only if the preferred MultiByteFileStream is not present in the image (old images).' id '10e3b050-1290-4444-a1c1-2bd08b6eb5a6' date '1 July 2015' time '9:26:17.863 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.43' message 'CommandShell 4.6.14Update for Pharo 5. If StringHolder is not present, delegate to Workspace. Avoid undeclared references to ReferenceStream in unit tests.' id '84b153e1-560e-4e83-9599-a80feb22c2ff' date '17 June 2015' time '9:43:02.928 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.42' message 'CommandShell 4.6.13When forking an image with PipeableOSProcess, close unused pipe handles for the connecting pipes immediately in both child and parent, otherwise testing #atEndOfFile can fail in one image beccause of the open handle in the other image.In tests, add a #flush because C runtime may require it. Use upToEndOfFile and remove the now unneeded delay.' id 'dbb847d9-789b-4b0e-b30d-36b5cee5940e' date '7 June 2015' time '5:51:49.632 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.41' message 'CommandShell 4.6.12Revert PipeJunction>>upToEndOfFile to remove redundant close' id '90e420ec-7c1e-44a4-ba4d-c0c95d49f948' date '24 April 2015' time '6:19:53.824 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.40' message 'CommandShell 4.6.11Fix undeclred - Pharo does not understand InvalidDirectoryError' id '56e1f028-5bc6-4d22-8082-795786455ac9' date '19 April 2015' time '10:03:50.802 am' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.39' message 'CommandShell 4.6.10RemoteTask (poor man''s multiprocessing): Add support for the Magma serializer. A RemoteTask can communicate its results to the parent image using any of the supported serializers (#referenceStream, #fuel, or #magma). See the class initialization methods for RemoteTask.A RemoteTask represents a block to be evaluated in a headless Squeak child process. The results of evaluating the block are returned to the sender through a serialization stream on an OS pipe. Asynchronous event notification may be used to signal completion of remote processing.' id 'ef540e5a-e308-4d49-bdbe-d8d1b0942772' date '20 February 2015' time '8:25:58.053 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.38' message 'CommandShell 4.6.9Improve pipe closing for PipeableOSProcess class>>command: and related methods to support use as stand alone command processor. An expression such as the following will now close all open handles when command processing is complete:  "(PipeableOSProcess command: ''/bin/echo this is a test'') output"' id 'edb15f3f-17cc-42d1-9df9-c24f815c2b2e' date '5 October 2014' time '11:29:18.274 am' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.37' message 'OSProcess 4.5.11, CommandShell 4.6.8Fixes by Sean DeNigris for win32 support in PipeableOSProcess (CommandShell package)Date: Fri, 27 Dec 2013 10:09:37 -0800 (PST)From: "Sean P. DeNigris" <sean@clipperadams.com>To: squeak-dev@lists.squeakfoundation.orgSubject: [squeak-dev] Fix: OSProcess on Windows I made a small fix for MNU #defaultShellPath, which has been reported a few times. I didn''t have repo write access, so I committed tohttp://smalltalkhub.com/#!/~SeanDeNigris/SeansOutbox . Sometimes on Windows (e.g. seemingly when there are quoted command line arguments), the argument to #waitForCommand: and command: must be wrapped in $". I don''t think there is any harm in always doing this (on Windows), but wanted to get feedback from Dave first... OSProcess-Win32-SeanDeNigris.11- Supply shell flags valid for Windows (i.e. ''/c''); shell commands viaPipeableOSProcess are now working, with two restrictions:        - no access to stdout        - argument to #waitXyz: may have to be surroundedByDoubleQuotes OSProcess-Base-SeanDeNigris.41- Extract default shell flags (''-c'') into a method, so that Windows may supply flags valid there (i.e. ''/c'') CommandShell-Piping-SeanDeNigris.15- Fix Win32 shell by providing path to cmd.exe' id '751db28e-7753-4457-bcee-0b3bea2e8f5d' date '29 December 2013' time '1:49:44.84 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.36' message 'CommandShell 4.6.7Updates from Thierry Goubier to remove direct references to classes that do not exist in Pharo or other images (especially MVC dependencies)' id '1784b8ac-ae99-41fa-90b5-12354534dfcb' date '22 September 2013' time '6:00:46.341 pm' author 'dtl' ancestors ((name 'CommandShell-Base-ThierryGoubier.35' message 'Removed Undeclared stuff in Pharo2.0' id 'ddece61f-fbbe-4ad5-ad78-c918b69678b2' date '20 September 2013' time '3:24:47.83 pm' author 'ThierryGoubier' ancestors ((name 'CommandShell-Base-dtl.34' message 'CommandShell 4.6.6Update ShellSyntax>>platformName for Pharo 3 (thanks Goubier Thierry for the update)' id '50dd45e7-04d6-4c35-8f50-eabca6e929ef' date '4 September 2013' time '10:03:13.449 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.33' message 'CommandShell 4.6.5Use WriteStream on: String new because literal strings should be immutable.' id '989f1365-e4b4-4952-a2ce-d47316128963' date '24 February 2013' time '11:17:09.976 am' author 'dtl' ancestors ((name 'CommandShell-Base-SeanDeNigris.32' message '- Enhance file delete logic to handle FS version in Pharo 1.4, in addition to that in Pharo 2.0' id 'f40e2050-ebe3-43b7-917b-9bd9a3af4ed3' date '13 February 2013' time '9:55:49.717 am' author 'SeanDeNigris' ancestors ((name 'CommandShell-Base-dtl.31' message 'CommandShell 4.6.4Update withBlanksTrimmed and withoutTrailingBlanks senders in CommandShell for Pharo compatibility' id '531f2f92-0fb0-474d-b9c0-f20aed94b7bc' date '29 January 2013' time '8:43:02.496 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.30' message 'CommandShell 4.6.3Fix a few more issues for Pharo 2.0' id 'f07bf19d-67f8-4919-8ef7-e776f57d289b' date '28 January 2013' time '9:49:20.577 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.29' message 'CommandShell 4.6.2Change ShellSyntax>>isDirectoryPath to handle DirectoryDoesNotExist exception in addition to InvalidDirectoryError.Remove a lingering FileDirectory reference in ShellBuiltin, and fix a related bug in CrLfFileEditor.' id '4fb8febc-0646-4dfa-9791-2ae1b137d3cb' date '28 January 2013' time '7:57:06.711 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.28' message 'Fix typo in previous commit' id '093777c4-1750-4d41-9394-f38f3e9f8099' date '27 January 2013' time '11:07:44.222 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.27' message 'CommandShell 4.6.1Support Pharo 2.0. Add compatibility methods to CommandShell class category ''version dependent'' and make CommandShell loadable in various Squeak and Pharo images.' id '91fc883d-f316-489b-a4c6-71ec4508a789' date '27 January 2013' time '10:46:26.911 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.26' message 'CommandShell 4.5.7Remove ReferenceStream dependencies in CommandShell-Piping to allow clean load in Pharo.' id '08f20a07-efe4-4a48-baa2-9e0e3fae8b2f' date '24 January 2013' time '8:17:43.836 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.25' message 'CommandShell 4.5.6When processing a command in a CommandShell, inform any dependents to display the command line. If the command came from a transcript stream that already contains the command line, do not update it. This allows a command shell that is controlled programmatically to display the command line input in a shell window if the shell window is open.' id 'cc82aaef-db8f-4dbb-a85b-9bdc5eb3ab34' date '15 September 2012' time '7:16:41.028 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.24' message 'CommandShell 4.5.5Address process synchronization issues exposed by unit tests.An error pipeline stream is shared by multiple process proxies, so do not raise an error in PipeJunction>>closeErrorPipeline if the close fails.Add a short (10 ms) delay ProxyPipeline>>value after each proxy is started in order to permit associated (Smalltalk) processes to be scheduled to service that proxy. When using AIO event driven streams, this permits a BufferedAsyncFileReadStream to start its event handler process.' id 'b2038c80-86e2-49fe-bd5a-e985567e84aa' date '29 August 2012' time '6:30:17.795 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.23' message 'CommandShell 4.5.4Fix file handle leaks in unit tests' id '1b62537d-fe7d-422d-86b7-7dc4bb0dc04e' date '24 April 2012' time '8:37:58.688 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.22' message 'CommandShell 4.5.3Simplify a couple of tests, and avoid use of string intersection, which has been redefined in Pharo' id '87e58689-bc0e-49aa-baaf-f7513936afa6' date '22 April 2012' time '5:07:39.472 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.21' message 'CommandShell 4.5.2For Squeak 3.8 compatibility, use  #hasLiteral: rather than #sendsSelector: (thanks Bert Freudenberg).If DeferredActionStandardSystemController is not present, use StandardSystemController. Newer Squeak versions do not require DeferredActionStandardSystemController because #addDeferredUIMessage: has been moved up to class Controller.' id '63610020-3b99-45d3-b1fa-c302b53c0275' date '3 February 2012' time '10:26:40.893 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.20' message 'CommandShell 4.5.1Update RemoteTask to use Fuel for serialization if present in the image.Fuel is faster than reference stream serialization, and successfully serializes large integers (this does not work properly with a reference stream, see http://bugs.squeak.org/view.php?id=7679).' id '1da868a7-aad5-46f5-8ffd-69c1af073acf' date '27 November 2011' time '3:01:50.879 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.19' message 'CommandShell 4.5.0Update RemoteTask to support asynchronous task completion notification. Eliminate redundant buffering of input stream, and read the result object directly from the pipe reader upon notification of data available from the remote image. Processing no longer waits for remote image exit, and does not read remote data into intermediate buffers and streams.Add #do:whenComplete: to schedule a remote task (image forked in separate OS process) with results handled in a completion block. The supervisory Squeak image carries none of the processing load during remote task execution.Support forkSqueak with AIO event handling to provide notification of data available from remote Squeak.' id 'fc647d20-ea82-4cb1-9c6c-6f15edd35664' date '13 November 2011' time '1:15:27.166 am' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.18' message 'CommandShell 4.4.19Add PipeableOSProcess class>>command:environment: per Francois Stephany suggestion <http://lists.gforge.inria.fr/pipermail/pharo-users/2011-November/003173.html>' id '60066c28-bcad-43dc-8fd9-69d1f3d0a649' date '8 November 2011' time '7:50:33.787 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.17' message 'CommandShell 4.4.18Use upper case in Squeak menu entries for consistency with trunk.world -> open... -> Squeak ShellApps -> Squeak Shell' id '378ad85e-1bd3-42bc-9bd7-bcc4db6159b6' date '30 August 2011' time '7:38:56.367 am' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.16' message 'CommandShell 4.4.17Catch warnings in unit tests to permit them to run on OS X without UI interaction. Many test failures are expected on OS X due to lack of forkSqueak and XDisplayControlPlugin capability on that platform.' id '4937c04f-2356-44dd-927e-9eb2a1e0ac8c' date '10 June 2011' time '4:58:27.123 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.15' message 'CommandShell 4.4.16Fix poorly written ComandShellTestCase>>testPipeline65 that caused problems on Pharo images.' id '7d4afa3e-8c2c-4def-bb3b-fda765439166' date '5 June 2011' time '6:19:14.657 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.14' message 'CommandShell 4.4.15Do not use #addToStartUpList:after: which was just a workaround for an ancient Squeak bug.' id 'f0dad462-839e-4966-a55a-3c159e029a5f' date '20 May 2011' time '7:26:44.856 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.13' message 'CommandShell 4.4.14Remove unreferenced (and buggy) PipeableOSProcess>>notifyError' id 'b03b6954-bffe-492d-9408-bb39daa05c13' date '2 January 2011' time '11:58:12.356 am' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.12' message 'CommandShell 4.4.13Remove #fixTemps' id 'b549860a-d819-4055-a144-106a3bc44875' date '30 November 2010' time '7:42:44.145 am' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.11' message 'CommandShell 4.4.12Work around Pharo exception difference by catching all Exceptions in ExpressionEvaluator>>compile rather than using a specific Error and UndeclaredVariableReference declaration.' id '3206aa1f-73b8-470a-bc58-6303af66a87f' date '29 November 2010' time '11:50:16.863 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.10' message 'CommandShell 4.4.11Override various Pharo deprecation warnings inappropriate for this package. Support Pharo menu registration.' id 'b1738f8b-92d8-409b-a846-475ccf3f7109' date '29 November 2010' time '9:13:51.622 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.9' message 'CommandShell 4.4.10Fix duplicate prompt string on #clear built-in shell command.Accommodate Pharo refactorings and deprecation warnings.Add commented PipeableOSProcess>>close to document usage.' id '324c5385-3e8e-4905-84ea-795c99796c61' date '29 November 2010' time '8:23:10.975 am' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.8' message 'CommandShell 4.4.9Do not use #ifNotNilDo: (for Cuis compatibility) and do not use #ifNotNil: with a block parameter (for Squeak 3.6 compatibility).' id '2e95fb8e-c56c-4183-9688-2b0867fb3411' date '3 September 2010' time '7:32:56.897 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.7' message 'CommandShell 4.4.8Change RemoteTask>>result to poll for child completion to avoid spin wait on pipe read. Better solution would be to change ReferenceStream reading to work with non-positionable stream.' id '48675488-35d1-4e08-9916-2e4e88d00bd9' date '1 September 2010' time '10:02:06.906 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.6' message 'CommandShell 4.4.7Fix a race condition in PipeableOSProcess accessProtect that led to intermittent blocking of the OSProcess grimReaper process when running test suite.' id 'bc8a99ee-afbc-4e05-99df-5653d86a7690' date '11 July 2010' time '9:31:42.743 am' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.5' message 'CommandShell 4.4.6Pharo pretends to be unaware that it #isMorphic, so implement a workaround in CommandShell class>>isMorphic.' id 'be460b85-632d-451a-987d-42aa1e174680' date '29 June 2010' time '10:16:48.343 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.4' message 'Handle Pharo variances for window spec on class initialization' id '5da24d9f-0f1c-40db-bdd0-82c1ae9da93e' date '29 June 2010' time '7:36:26.142 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.3' message 'Fix handling of WindowColorSpec not present' id 'a02987f5-7d89-448b-9cfb-586b2b098cf4' date '29 June 2010' time '12:09:06.371 am' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.2' message 'CommandShell 4.4.5Do not open a command shell window in CommandShell class>>initialize (instead use CommandShell class>>openWithHelp in SAR postscript).Work around some Pharo differences: - Preference mechanism is different - Window color specs replaced by some other mechanism. - World menu registration requires pragmas, will not work in e.g. Squeak 3.8' id '8a8eccad-c0c0-43ca-a596-dbc08a21464d' date '27 June 2010' time '5:38:11.124 pm' author 'dtl' ancestors ((name 'CommandShell-Base-dtl.1' message 'Recategorize package CommandShell into subpackages as follows: CommandShell-Base CommandShell-Commands CommandShell-Morphic CommandShell-MVC CommandShell-Piping CommandShell-UI CommandShell-Tests' id '4035d35a-7dfb-4500-b070-94f738bbc564' date '27 June 2010' time '1:08:58.222 pm' author 'dtl' ancestors () stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())